{"ast":null,"code":"var _jsxFileName = \"/Users/Shufan/Desktop/aipd/frontend/src/Components/TournamentFormComponent.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Form, Select } from 'semantic-ui-react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst selectOptions = [{\n  key: '1',\n  text: '1',\n  value: 1\n}, {\n  key: '2',\n  text: '2',\n  value: 2\n}, {\n  key: '3',\n  text: '3',\n  value: 3\n}, {\n  key: '4',\n  text: '4',\n  value: 4\n}, {\n  key: '5',\n  text: '5',\n  value: 5\n}, {\n  key: '6',\n  text: '6',\n  value: 6\n}, {\n  key: '7',\n  text: '7',\n  value: 7\n}, {\n  key: '8',\n  text: '8',\n  value: 8\n}, {\n  key: '9',\n  text: '9',\n  value: 9\n}, {\n  key: '10',\n  text: '10',\n  value: 10\n}, {\n  key: '11',\n  text: '11',\n  value: 11\n}, {\n  key: '12',\n  text: '12',\n  value: 12\n}, {\n  key: '13',\n  text: '13',\n  value: 13\n}, {\n  key: '14',\n  text: '14',\n  value: 14\n}, {\n  key: '15',\n  text: '15',\n  value: 15\n}, {\n  key: '16',\n  text: '16',\n  value: 16\n}, {\n  key: '17',\n  text: '17',\n  value: 17\n}, {\n  key: '18',\n  text: '18',\n  value: 18\n}, {\n  key: '19',\n  text: '19',\n  value: 19\n}, {\n  key: '20',\n  text: '20',\n  value: 20\n}, {\n  key: '21',\n  text: '21',\n  value: 21\n}, {\n  key: '22',\n  text: '22',\n  value: 22\n}, {\n  key: '23',\n  text: '23',\n  value: 23\n}, {\n  key: '24',\n  text: '24',\n  value: 24\n}, {\n  key: '25',\n  text: '25',\n  value: 25\n}, {\n  key: '26',\n  text: '26',\n  value: 26\n}, {\n  key: '27',\n  text: '27',\n  value: 27\n}, {\n  key: '28',\n  text: '28',\n  value: 28\n}, {\n  key: '29',\n  text: '29',\n  value: 29\n}, {\n  key: '30',\n  text: '30',\n  value: 30\n}];\n\nconst TournamentFormComponent = _ref => {\n  _s();\n\n  let {\n    setGif\n  } = _ref;\n  const [percentCoop, setPercentCoop] = React.useState(0);\n  const [percentDefect, setPercentDefect] = React.useState(0);\n  const [percentCopy, setPercentCopy] = React.useState(0);\n  const [percentGrudge, setPercentGrudge] = React.useState(0);\n  const [percentAI, setPercentAI] = React.useState(0);\n  const [generations, setGenerations] = React.useState(0);\n  const [interactions, setInteractions] = React.useState(0);\n  const [rounds, setRounds] = React.useState(0);\n  const [reproduction, setReproduction] = React.useState(0);\n\n  const onChange = event => {\n    switch (event.target.id) {\n      case 'coop':\n        setPercentCoop(event.target.value);\n        break;\n\n      case 'defect':\n        setPercentDefect(event.target.value);\n        break;\n\n      case 'copy':\n        setPercentCopy(event.target.value);\n        break;\n\n      case 'grudge':\n        setPercentGrudge(event.target.value);\n        break;\n\n      case 'ai':\n        setPercentAI(event.target.value);\n        break;\n\n      case 'reproduction':\n        setReproduction(event.target.value);\n        break;\n    }\n  };\n\n  const onSelectChange = (event, result) => {\n    switch (result.id) {\n      case 'generations':\n        setGenerations(result.value);\n        break;\n\n      case 'interactions':\n        setInteractions(result.value);\n        break;\n\n      case 'rounds':\n        setRounds(result.value);\n        break;\n    }\n  };\n\n  const onSubmit = async () => {\n    const config = makeConfig();\n    const data = {\n      generations: generations,\n      interactions: interactions,\n      rounds: rounds,\n      reproduction_rate: reproduction / 100,\n      config: config\n    };\n    const res = await axios.post(\"/tournament\", data);\n\n    if (res.status === 200) {\n      console.log(\"hello\");\n      setGif(res.data.gif);\n    }\n  };\n\n  const makeConfig = () => {\n    const total = percentCoop + percentDefect + percentCopy + percentGrudge + percentAI;\n    var coop = 20;\n    var defect = 20;\n    var copy = 20;\n    var grudge = 20;\n    var ai = 20;\n\n    if (total !== 0) {\n      coop = Math.round(100 * percentCoop / total);\n      defect = Math.round(100 * percentDefect / total);\n      copy = Math.round(100 * percentCopy / total);\n      grudge = Math.round(100 * percentGrudge / total);\n      ai = Math.round(100 * percentAI / total);\n    }\n\n    console.log(percent);\n    console.log(defect);\n    const coopConfig = {\n      name: \"Cooperate\",\n      id: 0,\n      count: coop,\n      type: 'memory',\n      n: 1,\n      strategy: [0, 0, 0, 0]\n    };\n    const defectConfig = {\n      name: \"Defect\",\n      id: 1,\n      count: defect,\n      type: 'memory',\n      n: 1,\n      strategy: [1, 1, 1, 1]\n    };\n    const copyConfig = {\n      name: \"Copy\",\n      id: 2,\n      count: copy,\n      type: \"memory\",\n      n: 1,\n      strategy: [0, 1, 0, 1]\n    };\n    const grudgeConfig = {\n      name: \"Grudge\",\n      id: 3,\n      count: grudge,\n      type: \"memory\",\n      n: 1,\n      strategy: [0, 1, 1, 1]\n    };\n    const aiConfig = {\n      name: \"AI\",\n      id: 4,\n      count: ai,\n      type: \"ai\"\n    };\n    const config = {\n      agents: [coopConfig, defectConfig, copyConfig, grudgeConfig, aiConfig]\n    };\n    return config;\n  };\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    onSubmit: onSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n      widths: \"equal\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Field, {\n        required: true,\n        label: \"Percent Cooperate Agent\",\n        id: \"coop\",\n        control: \"input\",\n        type: \"number\",\n        max: 100,\n        min: 0,\n        onChange: onChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n        required: true,\n        label: \"Percent Defect Agent\",\n        id: \"defect\",\n        control: \"input\",\n        type: \"number\",\n        max: 100,\n        min: 0\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n        required: true,\n        label: \"Percent Copy Agent\",\n        id: \"copy\",\n        control: \"input\",\n        type: \"number\",\n        max: 100,\n        min: 0,\n        onChange: onChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n        required: true,\n        label: \"Percent Grudge Agent\",\n        id: \"grudge\",\n        control: \"input\",\n        type: \"number\",\n        max: 100,\n        min: 0,\n        onChange: onChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n        required: true,\n        label: \"Percent AI Agent\",\n        id: \"ai\",\n        control: \"input\",\n        type: \"number\",\n        max: 100,\n        min: 0,\n        onChange: onChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      children: [/*#__PURE__*/_jsxDEV(Form.Field, {\n        required: true,\n        label: \"Generations\",\n        id: \"generations\",\n        type: \"number\",\n        placeholder: \"1\",\n        onChange: onSelectChange,\n        control: Select,\n        options: selectOptions\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n        required: true,\n        label: \"Interactions\",\n        id: \"interactions\",\n        type: \"number\",\n        placeholder: \"1\",\n        onChange: onSelectChange,\n        control: Select,\n        options: selectOptions.slice(0, 6)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n        required: true,\n        label: \"Rounds\",\n        id: \"rounds\",\n        type: \"number\",\n        placeholder: \"1\",\n        onChange: onSelectChange,\n        control: Select,\n        options: selectOptions.slice(0, 21)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n        required: true,\n        label: \"Reproduction Rate\",\n        id: \"reproduction\",\n        type: \"number\",\n        onChange: onChange,\n        control: \"input\",\n        min: 0,\n        max: 100\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Form.Button, {\n      type: \"submit\",\n      children: \"Load Tournament Visual\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 12\n  }, this);\n};\n\n_s(TournamentFormComponent, \"Jo6nkGwPzBQ+GOOggF9jwEDNHug=\");\n\n_c = TournamentFormComponent;\nexport default TournamentFormComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"TournamentFormComponent\");","map":{"version":3,"sources":["/Users/Shufan/Desktop/aipd/frontend/src/Components/TournamentFormComponent.js"],"names":["React","Form","Select","axios","selectOptions","key","text","value","TournamentFormComponent","setGif","percentCoop","setPercentCoop","useState","percentDefect","setPercentDefect","percentCopy","setPercentCopy","percentGrudge","setPercentGrudge","percentAI","setPercentAI","generations","setGenerations","interactions","setInteractions","rounds","setRounds","reproduction","setReproduction","onChange","event","target","id","onSelectChange","result","onSubmit","config","makeConfig","data","reproduction_rate","res","post","status","console","log","gif","total","coop","defect","copy","grudge","ai","Math","round","percent","coopConfig","name","count","type","n","strategy","defectConfig","copyConfig","grudgeConfig","aiConfig","agents","slice"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Form, Select } from 'semantic-ui-react';\nimport axios from 'axios';\n\nconst selectOptions = [\n    { key: '1', text: '1', value: 1 },\n    { key: '2', text: '2', value: 2 },\n    { key: '3', text: '3', value: 3 },\n    { key: '4', text: '4', value: 4 },\n    { key: '5', text: '5', value: 5 },\n    { key: '6', text: '6', value: 6 },\n    { key: '7', text: '7', value: 7 },\n    { key: '8', text: '8', value: 8 },\n    { key: '9', text: '9', value: 9 },\n    { key: '10', text: '10', value: 10 },\n    { key: '11', text: '11', value: 11 },\n    { key: '12', text: '12', value: 12 },\n    { key: '13', text: '13', value: 13 },\n    { key: '14', text: '14', value: 14 },\n    { key: '15', text: '15', value: 15 },\n    { key: '16', text: '16', value: 16 },\n    { key: '17', text: '17', value: 17 },\n    { key: '18', text: '18', value: 18 },\n    { key: '19', text: '19', value: 19 },\n    { key: '20', text: '20', value: 20 },\n    { key: '21', text: '21', value: 21 },\n    { key: '22', text: '22', value: 22 },\n    { key: '23', text: '23', value: 23 },\n    { key: '24', text: '24', value: 24 },    \n    { key: '25', text: '25', value: 25 },\n    { key: '26', text: '26', value: 26 },\n    { key: '27', text: '27', value: 27 },\n    { key: '28', text: '28', value: 28 },\n    { key: '29', text: '29', value: 29 },\n    { key: '30', text: '30', value: 30 }\n  ]\n\nconst TournamentFormComponent = ({setGif}) => {\n\n    const [percentCoop, setPercentCoop] = React.useState(0)\n    const [percentDefect, setPercentDefect] = React.useState(0)\n    const [percentCopy, setPercentCopy] = React.useState(0)\n    const [percentGrudge, setPercentGrudge] = React.useState(0)\n    const [percentAI, setPercentAI] = React.useState(0)\n\n    const [generations, setGenerations] = React.useState(0)\n    const [interactions, setInteractions] = React.useState(0)\n    const [rounds, setRounds] = React.useState(0)\n    const [reproduction, setReproduction] = React.useState(0)\n\n    const onChange = (event) => {\n        switch(event.target.id) {\n            case 'coop':\n                setPercentCoop(event.target.value)\n                break\n            case 'defect':\n                setPercentDefect(event.target.value)\n                break\n            case 'copy':\n                setPercentCopy(event.target.value)\n                break\n            case 'grudge':\n                setPercentGrudge(event.target.value)\n                break\n            case 'ai':\n                setPercentAI(event.target.value)\n                break\n            case 'reproduction':\n                setReproduction(event.target.value)\n                break\n        }\n    }\n\n    const onSelectChange = (event, result) => {\n        switch(result.id) {\n            case 'generations':\n                setGenerations(result.value)\n                break\n            case 'interactions':\n                setInteractions(result.value)\n                break\n            case 'rounds':\n                setRounds(result.value)\n                break\n        }\n    }\n\n    const onSubmit = async () => {\n        const config = makeConfig()\n        const data = {\n            generations : generations,\n            interactions: interactions,\n            rounds: rounds,\n            reproduction_rate: reproduction / 100,\n            config: config\n        }\n        const res = await axios.post(\"/tournament\", data)\n        if (res.status === 200) {\n            console.log(\"hello\")\n            setGif(res.data.gif)\n        }\n    }\n\n    const makeConfig = () => {\n        const total = percentCoop + percentDefect + percentCopy + percentGrudge + percentAI\n        var coop = 20\n        var defect = 20 \n        var copy = 20\n        var grudge = 20\n        var ai = 20\n        if (total !== 0) {\n            coop = Math.round(100 * percentCoop / total)\n            defect = Math.round(100 * percentDefect / total)\n            copy = Math.round(100 * percentCopy / total)\n            grudge = Math.round(100 * percentGrudge / total)\n            ai = Math.round(100 * percentAI / total)\n        }\n        console.log(percent)\n        console.log(defect)\n        const coopConfig = {\n            name : \"Cooperate\",\n            id : 0,\n            count : coop,\n            type : 'memory',\n            n : 1,\n            strategy: [0,0,0,0]\n\n        }\n        const defectConfig = {\n            name : \"Defect\",\n            id : 1,\n            count : defect,\n            type : 'memory',\n            n : 1,\n            strategy: [1,1,1,1]\n        }\n        const copyConfig = {\n            name: \"Copy\", \n            id: 2,\n            count: copy,\n            type: \"memory\", \n            n: 1,\n            strategy: [0,1,0,1]\n        }\n        const grudgeConfig = {\n            name: \"Grudge\",\n            id: 3,\n            count: grudge,\n            type: \"memory\", \n            n: 1,\n            strategy: [0,1,1,1]\n        }\n        const aiConfig = {\n            name: \"AI\",\n            id: 4,\n            count: ai, \n            type: \"ai\", \n        }\n        const config = {\n            agents : [coopConfig, defectConfig, copyConfig, grudgeConfig, aiConfig]\n        }\n        return config\n    }\n\n    return <Form onSubmit = {onSubmit}>\n        <Form.Group widths='equal'>\n            <Form.Field required\n                label = 'Percent Cooperate Agent'\n                id = 'coop'\n                control = 'input'\n                type = 'number'\n                max = {100}\n                min  = {0}\n                onChange = {onChange}\n            />\n            <Form.Field required\n                label = 'Percent Defect Agent'\n                id = 'defect'\n                control = 'input'\n                type = 'number'\n                max = {100}\n                min  = {0}\n            />            \n            <Form.Field required\n                label = 'Percent Copy Agent'\n                id = 'copy'\n                control = 'input'\n                type = 'number'\n                max = {100}\n                min  = {0}\n                onChange = {onChange}\n            />\n            <Form.Field required\n                label = 'Percent Grudge Agent'\n                id ='grudge'\n                control = 'input'\n                type = 'number'\n                max = {100}\n                min  = {0}\n                onChange = {onChange}\n            />\n            <Form.Field required\n                label = 'Percent AI Agent'\n                id = 'ai'\n                control = 'input'\n                type = 'number'\n                max = {100}\n                min  = {0}\n                onChange = {onChange}\n            />\n        </Form.Group>\n        <Form.Group>\n            <Form.Field required\n                label = 'Generations'\n                id = 'generations'\n                type = 'number'\n                placeholder = '1'\n                onChange = {onSelectChange}\n                control = {Select}\n                options = {selectOptions}\n            />\n            <Form.Field required\n                label = 'Interactions'\n                id = 'interactions'\n                type = 'number'\n                placeholder = '1'\n                onChange = {onSelectChange}\n                control = {Select}\n                options = {selectOptions.slice(0, 6)}\n            />\n            <Form.Field required\n                label = 'Rounds'\n                id = 'rounds'\n                type = 'number'\n                placeholder = '1'\n                onChange = {onSelectChange}\n                control = {Select}\n                options = {selectOptions.slice(0, 21)}\n            />\n            <Form.Field required\n                label = 'Reproduction Rate'\n                id = 'reproduction'\n                type = 'number'\n                onChange = {onChange}\n                control = 'input'\n                min = {0}\n                max = {100}\n            />\n        </Form.Group>\n        <Form.Button type='submit'>Load Tournament Visual</Form.Button>\n    </Form>\n\n}\n\nexport default TournamentFormComponent;\n"]},"metadata":{},"sourceType":"module"}